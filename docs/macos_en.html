<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PaoZhu C++ Web Frameworks</title>
    <style>
        /* Light mode */
        body {
            font-family:'PingFang SC','Helvetica Neue','Microsoft YaHei UI','Microsoft YaHei','Noto Sans CJK SC',Sathu,EucrosiaUPC,Arial,Helvetica,sans-serif;
            font-size:16px;
            line-height:1.45em;
        }
        code{
            background-color: #EEE;
            border-radius: 5px;
            padding: 3px;
        }
        @media (prefers-color-scheme: light) {
        body {
            color: black;
            background-color: white;
            font-size: 14px;
        }
        body pre {
            padding: 5px;
            overflow: auto;
            line-height: 1.45em;
            background-color: #EEE;
            border-radius: 6px;
        }
 
        body pre {
            word-wrap: normal;
        }
        body pre > code {
            padding: 0;
            margin: 0;
            word-break: normal;
            white-space: pre;
            background: transparent;
            border: 0;
        }
 
        body pre > code {
            white-space: pre-wrap;
        }
        code{
            background-color: #EEE;
            border-radius: 5px;
            padding: 3px;
        }

        }

        /* Dark mode */
        @media (prefers-color-scheme: dark) {
        body {
            color: white;
            background-color: black;
        }

        body pre {
            padding: 5px;
            overflow: auto;
            line-height: 1.45em;
            background-color: #333;
            border-radius: 6px;
        }
 
        body pre {
            word-wrap: normal;
        }
        body pre > code {
            padding: 0;
            margin: 0;
            word-break: normal;
            white-space: pre;
            background: transparent;
            border: 0;
        }
 
        body pre > code {
            white-space: pre-wrap;
        }

        code{
            background-color: #333;
            border-radius: 5px;
            padding: 3px;
        }
        }

        @media (min-width: 1200px) {
            .container {
                width: 1080px;
                margin: 0 auto;
            }
        }
    </style>

</head>

<body>
    <div class="container">
        <h3>&gt; MacOS bigsur, need C++20</h3>
        <p>Open terminal</p>
        <p>Using Terminal Command</p>
        <pre><code>
        # xcode-select --install
        # /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;
        </code></pre>
        <p><strong>In China see</strong></p>
        <p><code>https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/</code></p>
        <pre><code>
        brew install asio
        brew install cmake
        brew install openssl
        brew install zlib
        brew install brotli
        
        [option] brew install gd
        [option] brew install qrencode
        </code></pre>
        <p>https://dev.mysql.com/downloads/mysql/</p>
        <p>MySQL Community Server 8</p>
        <p>#mysql -u root -p</p>
        <blockquote>
        <p>create database cppcms default character set utf8mb4 collate utf8mb4_general_ci;</p>
        <p>use cppcms;</p>
        <p>source /root/paozhu/conf/cppcms.sql;</p>
        </blockquote>
        <blockquote>
        <p>use mysql;</p>
        </blockquote>
        <blockquote>
        <p>create user 'cppcms'@'localhost' identified by 'H3fHeRlVbwU@4456';</p>
        </blockquote>
        <blockquote>
        <p>GRANT ALL PRIVILEGES ON <code>cppcms</code>.* TO 'cppcms'@'localhost'; </p>
        <p>[May be in TEST ENV] ALTER USER 'cppcms'@'localhost' identified by '12345678';</p>
        </blockquote>
        <blockquote>
        <p>select host,user,authentication_string from user;</p>
        </blockquote>
        <blockquote>
        <p>flush privileges;</p>    
        <p>exit;</p>
        </blockquote>

        <p>Config system</p>
        <pre><code>#vim conf/server.conf
        </code></pre>
        <p>Replace <code>/Users/hzq/paozhu</code> to your project path</p>
        <pre><code>#vim paozhu/conf/orm.conf 
        </code></pre>
        <pre><code>
        [cms]
        type=main
        host=127.0.0.1
        port=3306
        dbname=cppcms
        user=cppcms
        password=H3fHeRlVbwU@4456
        pretable=
        maxpool=5
        dbtype=mysql
        
        type=second
        host=127.0.0.1
        port=3306
        dbname=cppcms
        user=cppcms
        password=H3fHeRlVbwU@4456
        pretable=
        maxpool=20
        dbtype=mysql
        </code></pre>
        <p>Compile project</p>
        <pre><code>
        # cd paozhu
        # unzip asio.zip 
        # mkdir build
        
        # cd build
        # cmake ..
        # make 
        # cd ..
        # ./bin/paozhu
        </code></pre>     
        <p>Open Browser</p>
        <p>http://localhost</p>
        <p>http port see <code>conf/server.conf</code> file</p>   
        <p>Now, you have successfully completed compiling the Paozhu project and can start learning the Hello World tutorial</p>
        <p> </p>
        <h3>Additional reading:</h3>
        <h3>Compile using Ninja</h3>
        <p>brew install ninja</p>
        <p>Compile project</p>
        <pre><code>
        # cd paozhu
        # unzip asio.zip 
        # mkdir build
        
        # cd build
        # cmake .. -G Ninja
        # ninja 
        # cd ..
        # ./bin/paozhu
        </code></pre>  
        <p>Resolve Cmake error: generator: Ninja issue, need to remove compilation cache</p>
        <pre><code>
    CMake Error: Error: generator : Ninja
    Does not match the generator used previously: Unix Makefiles
    Either remove the CMakeCache.txt file and CMakeFiles directory or choose a different binary directory.
        </code></pre> 
        <p>build&gt;rm CMakeCache.txt</p> 
        <p>build&gt;cmake .. -G Ninja</p> 
        <p>build&gt;ninja</p>
        <h3>Compiling project issues on USB or portable hard drives</h3> 
        <p>Recursively delete all hidden files in the current directory</p>
        <p>paozhu-main&gt;find . -name ".*" | xargs rm -f</p>


<p><a href="documentation_en.html">Docs</a></p>
</div>
</body>

</html>